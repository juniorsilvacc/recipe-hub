<div class="col-md-4 mb-4">
  <div class="card shadow-lg border-0 rounded-3 h-100">
    {% if recipe.cover %}
    <img
      src="{{ recipe.cover.url }}"
      class="card-img-top rounded-top"
      alt="{{ recipe.title }}"
      style="height: 220px; object-fit: cover"
    />
    {% endif %}
    <div class="card-body d-flex flex-column">
      <h5 class="card-title fw-bold text-dark">{{ recipe.title }}</h5>
      <p class="card-text text-muted mb-3">
        {{ recipe.description|truncatewords:20 }}
      </p>

      <dl class="row small mb-3">
        <dt class="col-sm-4">⏱ Tempo</dt>
        <dd class="col-sm-8">
          {{ recipe.preparation_time }} {{ recipe.preparation_time_unit }}
        </dd>

        <dt class="col-sm-4">🍽 Porções</dt>
        <dd class="col-sm-8">
          {{ recipe.servings }} {{ recipe.servings_unit }}
        </dd>

        <dt class="col-sm-4">👩‍🍳 Autor</dt>
        <dd class="col-sm-8">
          {% if recipe.author.first_name %} {{ recipe.author.first_name }} 
            {{ recipe.author.last_name }} 
          {% else %} 
            {{ recipe.author.username }} 
          {% endif %}
        </dd>

        {% if recipe.category is not None %}
          <dt class="col-sm-4">📂 Categoria</dt>
          <dd class="col-sm-8">
            <a
              href="{% url 'category' recipe.category.id %}"
              class="text-decoration-none"
            >
              {{ recipe.category.name }}
            </a>
          </dd>
        {% endif %}
      </dl>

      <a
        href="{% url 'recipe' recipe.id %}"
        class="btn btn-outline-primary mt-auto w-100 fw-semibold"
      >
        Ver recipe
      </a>
    </div>
  </div>
</div>
